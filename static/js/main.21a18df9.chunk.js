(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,n){e.exports=n(294)},106:function(e,t,n){},276:function(e,t,n){},294:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(97),r=n.n(s),l=(n(106),n(100)),c=n(21),u=n.n(c),i=n(52),m=n(14),d=(n(108),n(98)),f=n.n(d),g=(n(276),n(99)),b=n.n(g).a.create({baseURL:"https://api.jsonbin.io/b/5ef17e1f97cb753b4d160c53",headers:{"secret-key":"$2b$10$AOXx.uD.2vMLIWBhNRyF6.qDasREvbbmaKmPVNtaPgkT/0pF7S52q","Content-Type":"application/json",versioning:!1}}),p=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(!0),c=Object(m.a)(r,2),d=c[0],g=c[1],p=Object(a.useState)(!1),x=Object(m.a)(p,2),v=x[0],h=x[1],y=Object(a.useState)(""),w=Object(m.a)(y,2),E=w[0],O=w[1],N=Object(a.useState)("#F56565"),j=Object(m.a)(N,2),k=j[0],F=j[1],S=Object(a.useState)(2),C=Object(m.a)(S,2),M=C[0],L=C[1],I=Object(a.useRef)();Object(a.useEffect)((function(){var e=!0;return function(){var t=Object(i.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.get("/latest");case 2:n=t.sent,a=n.data,console.log(a),e&&(s(a.messages),g(a.on),h(a.isOfflineMode));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),I.current=new f.a(".color-input",{notation:"hex",saturations:1,hues:20,hue0:210}),I.current.on("change",(function(t,n,a,o){e&&F(t)})),function(){return e=!1}}),[]),Object(a.useEffect)((function(){var e;null===(e=I.current)||void 0===e||e.setColor(k)}),[k]);var R=function(){var e=Object(i.a)(u.a.mark((function e(){var t,n,a,o,r,l,c,i,m,d=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=d.length>0&&void 0!==d[0]?d[0]:{on:!1},e.next=3,b.put("/",c);case 3:i=e.sent,m=i.data,console.log(m),s(null!==(t=null===m||void 0===m||null===(n=m.data)||void 0===n?void 0:n.messages)&&void 0!==t?t:[]),g(null===(a=null===m||void 0===m||null===(o=m.data)||void 0===o?void 0:o.on)||void 0===a||a),h(null!==(r=null===m||void 0===m||null===(l=m.data)||void 0===l?void 0:l.isOfflineMode)&&void 0!==r&&r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement("div",{className:"min-h-screen min-w-screen p-8 md:p-24 bg-gray-700"},o.a.createElement("div",{className:"max-w-lg mx-auto px-4 pb-8 text-gray-400 font-mono text-center"},o.a.createElement("p",{className:"text-4xl"},"Marquise"),o.a.createElement("p",{className:"text-sm"},"A handy little LED sign you can command from your browser :)")),o.a.createElement("div",{className:"max-w-lg mx-auto flex p-4 bg-gray-900 rounded-lg shadow-xl mb-4"},o.a.createElement("form",{className:"w-full"},o.a.createElement("div",{className:"rounded bg-gray-800 p-4 mb-2"},o.a.createElement("div",{className:"mb-4"},o.a.createElement("label",{className:"block font-mono text-gray-400 text-sm font-bold mb-2",htmlFor:"message"},"MESSAGE"),o.a.createElement("textarea",{className:"shadow appearance-none ".concat(""," rounded resize-y h-16 w-full py-2 px-3 bg-green-200 text-gray-900 font-mono mb-3 leading-tight focus:outline-none focus:shadow-outline"),id:"message",type:"text",value:E,onChange:function(e){var t=e.target.value;return O(t)}})),o.a.createElement("div",{className:"mb-4"},o.a.createElement("label",{className:"block font-mono text-gray-400 text-sm font-bold mb-2",htmlFor:"speed"},"SPEED"),o.a.createElement("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 bg-green-200 text-gray-900 font-mono mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"speed",type:"number",value:M,min:1,max:5,onChange:function(e){var t=e.target.value;return L(t)}})),o.a.createElement("div",{className:"mb-4"},o.a.createElement("label",{className:"block font-mono text-gray-400 text-sm font-bold mb-2",htmlFor:"color"},"COLOR"),o.a.createElement("input",{ref:I,id:"color2",className:"color-input shadow appearance-none rounded w-full py-2 px-3 bg-green-200 text-gray-900 font-mono mb-3 leading-tight focus:outline-none focus:shadow-outline",style:{cursor:"pointer"},value:k,onChange:function(e){var t=e.hex;F(t)}}))),o.a.createElement("div",{className:"rounded bg-gray-800 p-2"},o.a.createElement("div",{className:"flex items-center space-x-3 mb-3"},o.a.createElement("button",{className:"w-full ".concat(d?"bg-gray-700 hover:bg-gray-500":"bg-gray-500 hover:bg-gray-700"," text-white text-sm font-mono py-2 px-4 rounded focus:outline-none focus:shadow-outline"),type:"button",title:"Screen power. When 'OFF', checks every 10 seconds for power state.",onClick:function(){R({on:!d,isOfflineMode:v,messages:n})}},d?"ON":"OFF"),o.a.createElement("button",{className:"w-full ".concat(v?"bg-gray-500 hover:bg-gray-700":"bg-gray-700 hover:bg-gray-500"," text-white text-sm font-mono py-2 px-4 rounded focus:outline-none focus:shadow-outline"),type:"button",title:"When 'LIVE', device will check for new messages once a minute. Use 'OFFLINE' mode if you want to set messages to use on the go. Requires hard-reset.",onClick:function(){R({on:d,messages:n,isOfflineMode:!v})}},v?"OFFLINE":"LIVE"),o.a.createElement("button",{className:"w-full bg-gray-500 hover:bg-gray-700 text-white text-sm font-mono py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button",title:"Delete all custom messages. Will revert to device's default message.",onClick:function(){R({on:d,isOfflineMode:v,messages:[]})}},"CLEAR")),o.a.createElement("button",{className:"w-full bg-red-500 hover:bg-red-700 text-white text-sm font-mono py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button",title:"Upload a message to the device.",onClick:function(){R({messages:[].concat(Object(l.a)(n),[{text:E,color:parseInt(k.substring(1),16),speed:M}]),on:d,isOfflineMode:v})}},"SEND")))),n.map((function(e,t){return o.a.createElement("div",{key:t,className:"max-w-lg mx-auto flex p-2 bg-gray-900 text-gray-400 rounded-lg shadow-xl mb-4"},o.a.createElement("div",{className:"inline-block rounded text-center text-gray-900 px-4 py-2 m-2",style:{backgroundColor:"#".concat(e.color.toString(16))}},t+1),o.a.createElement("div",{className:"flex-1 px-4 py-2 m-2 font-mono truncate"},e.text),o.a.createElement("button",{className:"inline-block rounded text-center px-4 py-2 m-2 bg-gray-800 hover:bg-red-700 font-bold text-white focus:outline-none focus:shadow-outline",type:"button",onClick:function(){return function(e){var t=n.filter((function(t){return t.text!==e}));R({on:d,isOfflineMode:v,messages:t})}(e.text)}},"x"))})))};r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(p,null)),document.getElementById("root"))}},[[101,1,2]]]);
//# sourceMappingURL=main.21a18df9.chunk.js.map