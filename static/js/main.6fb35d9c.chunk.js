(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{21:function(e,t,n){e.exports=n(47)},26:function(e,t,n){},29:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(17),s=n.n(r),l=(n(26),n(20)),c=n(4),u=n.n(c),i=n(6),m=n(2),d=n(18),f=n.n(d),b=(n(29),n(19)),g=n.n(b).a.create({baseURL:"https://api.jsonbin.io/v3/b/5ef17e1f97cb753b4d160c53",headers:{"secret-key":"$2b$10$AOXx.uD.2vMLIWBhNRyF6.qDasREvbbmaKmPVNtaPgkT/0pF7S52q","Content-Type":"application/json",versioning:!1}}),p=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(!0),c=Object(m.a)(s,2),d=c[0],b=c[1],p=Object(a.useState)(!1),x=Object(m.a)(p,2),h=x[0],v=x[1],y=Object(a.useState)(""),w=Object(m.a)(y,2),E=w[0],N=w[1],O=Object(a.useState)("#F56565"),k=Object(m.a)(O,2),j=k[0],S=k[1],C=Object(a.useState)(2),F=Object(m.a)(C,2),M=F[0],I=F[1],L=Object(a.useState)(25),R=Object(m.a)(L,2),D=R[0],q=R[1],A=Object(a.useRef)();Object(a.useEffect)((function(){var e=!0;return function(){var t=Object(i.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.get("/latest");case 3:n=t.sent,a=n.data.record,console.log(a),e&&(r(a.messages),b(a.on),v(a.isOfflineMode)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}()(),A.current=new f.a(".color-input",{notation:"hex",saturations:1,hues:20,hue0:210}),A.current.on("change",(function(t,n,a,o){e&&S(t)})),function(){return e=!1}}),[]),Object(a.useEffect)((function(){var e;null===(e=A.current)||void 0===e||e.setColor(j)}),[j]);var W=function(){var e=Object(i.a)(u.a.mark((function e(){var t,n,a,o,s,l,c,i=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{on:!1},e.prev=1,e.next=4,g.put("/",t);case 4:l=e.sent,c=l.data.record,console.log(c),r(null!==(n=null===c||void 0===c?void 0:c.messages)&&void 0!==n?n:[]),b(null===(a=null===c||void 0===c?void 0:c.on)||void 0===a||a),v(null!==(o=null===c||void 0===c?void 0:c.isOfflineMode)&&void 0!==o&&o),q(null!==(s=null===c||void 0===c?void 0:c.brightness)&&void 0!==s?s:25),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.error("Could not complete request",e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}();return o.a.createElement("div",{className:"min-h-screen min-w-screen p-8 md:p-24 bg-gray-700"},o.a.createElement("div",{className:"max-w-lg mx-auto px-4 pb-8 text-gray-400 font-mono text-center"},o.a.createElement("p",{className:"text-4xl"},"Marquise"),o.a.createElement("p",{className:"text-sm"},"A handy little LED sign you can command from your browser :)")),o.a.createElement("div",{className:"max-w-lg mx-auto flex p-4 bg-gray-900 rounded-lg shadow-xl mb-4"},o.a.createElement("form",{className:"w-full"},o.a.createElement("div",{className:"rounded bg-gray-800 p-4 mb-2"},o.a.createElement("div",null,o.a.createElement("label",{className:"block font-mono text-gray-400 text-sm font-bold mb-2",htmlFor:"message"},"MESSAGE"),o.a.createElement("textarea",{className:"shadow appearance-none ".concat(""," rounded resize-y h-16 w-full py-2 px-3 bg-green-200 text-gray-900 font-mono mb-3 leading-tight focus:outline-none focus:shadow-outline"),id:"message",type:"text",value:E,onChange:function(e){var t=e.target.value;return N(t)}})),o.a.createElement("div",{className:"flex flex-wrap -mx-3 mb-2"},o.a.createElement("div",{className:"w-full sm:w-1/2 px-3 mb-2 sm:mb-0"},o.a.createElement("label",{className:"block font-mono text-gray-400 text-sm font-bold mb-2",htmlFor:"speed"},"SPEED"),o.a.createElement("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 bg-green-200 text-gray-900 font-mono mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"speed",type:"number",value:M,min:1,max:5,onChange:function(e){var t=e.target.value;return I(t)}})),o.a.createElement("div",{className:"w-full sm:w-1/2 px-3 mb-2 sm:mb-0"},o.a.createElement("label",{className:"block font-mono text-gray-400 text-sm font-bold mb-2",htmlFor:"brightness"},"BRIGHTNESS"),o.a.createElement("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 bg-green-200 text-gray-900 font-mono mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"brightness",type:"number",value:D,min:1,max:255,onChange:function(e){var t=e.target.value,n=Math.min(Math.max(parseInt(t),0),255);isNaN(n)||q(n)}}))),o.a.createElement("div",null,o.a.createElement("label",{className:"block font-mono text-gray-400 text-sm font-bold mb-2",htmlFor:"color"},"COLOR"),o.a.createElement("input",{ref:A,id:"color2",className:"color-input shadow appearance-none rounded w-full py-2 px-3 bg-green-200 text-gray-900 font-mono mb-3 leading-tight focus:outline-none focus:shadow-outline",style:{cursor:"pointer"},value:j,onChange:function(e){var t=e.hex;S(t)}}))),o.a.createElement("div",{className:"rounded bg-gray-800 p-4"},o.a.createElement("div",{className:"flex items-center space-x-3 mb-3"},o.a.createElement("button",{className:"w-full ".concat(d?"bg-gray-700 hover:bg-gray-500":"bg-gray-500 hover:bg-gray-700"," text-white text-sm font-mono py-2 px-4 rounded focus:outline-none focus:shadow-outline"),type:"button",title:"Screen power. When 'OFF', checks every 10 seconds for power state.",onClick:function(){W({on:!d,brightness:D,isOfflineMode:h,messages:n})}},d?"ON":"OFF"),o.a.createElement("button",{className:"w-full ".concat(h?"bg-gray-500 hover:bg-gray-700":"bg-gray-700 hover:bg-gray-500"," text-white text-sm font-mono py-2 px-4 rounded focus:outline-none focus:shadow-outline"),type:"button",title:"When 'LIVE', device will check for new messages once a minute. Use 'OFFLINE' mode if you want to set messages to use on the go. Requires hard-reset.",onClick:function(){W({on:d,brightness:D,messages:n,isOfflineMode:!h})}},h?"OFFLINE":"LIVE"),o.a.createElement("button",{className:"w-full bg-gray-500 hover:bg-gray-700 text-white text-sm font-mono py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button",title:"Delete all custom messages. Will revert to device's default message.",onClick:function(){W({on:d,brightness:D,isOfflineMode:h,messages:[]})}},"CLEAR")),o.a.createElement("button",{className:"w-full bg-red-500 hover:bg-red-700 text-white text-sm font-mono py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button",title:"Upload a message to the device.",onClick:function(){W({messages:[].concat(Object(l.a)(n),[{text:E,color:parseInt(j.substring(1),16),speed:M}]),on:d,brightness:D,isOfflineMode:h})}},"SEND")))),null===n||void 0===n?void 0:n.map((function(e,t){return o.a.createElement("div",{key:t,className:"max-w-lg mx-auto flex p-2 bg-gray-900 text-gray-400 rounded-lg shadow-xl mb-4"},o.a.createElement("div",{className:"inline-block rounded text-center text-gray-900 px-4 py-2 m-2",style:{backgroundColor:"#".concat(e.color.toString(16))}},t+1),o.a.createElement("div",{className:"flex-1 px-4 py-2 m-2 font-mono truncate"},e.text),o.a.createElement("button",{className:"inline-block rounded text-center px-4 py-2 m-2 bg-gray-800 hover:bg-red-700 font-bold text-white focus:outline-none focus:shadow-outline",type:"button",onClick:function(){return function(e){var t=n.filter((function(t){return t.text!==e}));W({on:d,brightness:D,isOfflineMode:h,messages:t})}(e.text)}},"x"))})))};s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(p,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.6fb35d9c.chunk.js.map