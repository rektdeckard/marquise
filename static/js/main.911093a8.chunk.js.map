{"version":3,"sources":["api/API.js","components/App.js","index.js"],"names":["axios","create","baseURL","headers","versioning","App","useState","messages","setMessages","message","setMessage","color","setColor","speed","setSpeed","useEffect","isMounted","a","API","get","data","console","log","toString","load","doSubmit","put","handleSubmit","text","parseInt","substring","error","handleDismiss","remaining","filter","it","className","alt","htmlFor","id","type","value","onChange","target","width","hex","min","max","onClick","map","index","key","style","backgroundColor","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4QAEeA,E,OAAAA,EAAMC,OAAO,CAC1BC,QAAS,oDACTC,QAAS,CACP,aACE,+DACF,eAAgB,mBAChBC,YAAY,KC6JDC,EAjKH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACTC,EADS,KACCC,EADD,OAEcF,mBAAS,IAFvB,mBAETG,EAFS,KAEAC,EAFA,OAGUJ,mBAAS,WAHnB,mBAGTK,EAHS,KAGFC,EAHE,OAIUN,mBAAS,GAJnB,mBAITO,EAJS,KAIFC,EAJE,KAMhBC,qBAAU,WACR,IAAIC,GAAY,EAWhB,OATU,uCAAG,8BAAAC,EAAA,sEACYC,EAAIC,IAAI,WADpB,gBACHC,EADG,EACHA,KACRC,QAAQC,IAAIF,GACZC,QAAQC,IAAIF,EAAKb,SAAS,GAAGI,MAAMY,SAAS,KACxCP,GAAWR,EAAYY,EAAKb,UAJrB,2CAAH,oDAOViB,GAEO,kBAAOR,GAAY,KACzB,IAEH,IAAMS,EAAQ,uCAAG,4CAAAR,EAAA,6DAAOV,EAAP,+BAAkB,GAAlB,SACQW,EAAIQ,IAAI,IAAKnB,GADrB,gBACPa,EADO,EACPA,KACRC,QAAQC,IAAIF,GACZZ,EAAYY,EAAKA,KAAKb,UAHP,2CAAH,qDAMRoB,EAAY,uCAAG,sBAAAV,EAAA,+EAEXQ,EAAS,CACblB,SAAS,GAAD,mBACHA,GADG,CAEN,CAAEqB,KAAMnB,EAASE,MAAOkB,SAASlB,EAAMmB,UAAU,GAAI,IAAKjB,aAL7C,sDASjBQ,QAAQU,MAAR,MATiB,wDAAH,qDAaZC,EAAa,uCAAG,WAAOvB,GAAP,eAAAQ,EAAA,6DACdgB,EAAY1B,EAAS2B,QAAO,SAACC,GAAD,OAAQA,EAAGP,OAASnB,KADlC,kBAGZgB,EAAS,CAAElB,SAAU0B,IAHT,OAIlBzB,EAAYyB,GAJM,gDAMlBZ,QAAQU,MAAR,MANkB,yDAAH,sDAoCnB,OACE,yBAAKK,UAAU,oDACb,yBAAKA,UAAU,8BACb,yBAAKC,IAAI,kBAET,uBAAGD,UAAU,wBAAb,6EAKF,yBAAKA,UAAU,gEACb,0BAAMA,UAAU,mBACd,yBAAKA,UAAU,QACb,2BACEA,UAAU,6CACVE,QAAQ,WAFV,WAMA,8BACEF,UAAS,wCACoB,GADpB,oHAGTG,GAAG,UACHC,KAAK,OACLC,MAAOhC,EACPiC,SAAU,gBAAaD,EAAb,EAAGE,OAAUF,MAAb,OAA2B/B,EAAW+B,OAGpD,yBAAKL,UAAU,QACb,2BACEA,UAAU,6CACVE,QAAQ,SAFV,SAMA,kBAAC,YAAD,CACEC,GAAG,QACHH,UAAU,OACVQ,MAAM,OACNjC,MAAOA,EACP+B,SAnEc,SAAC,GAAa,IAAXG,EAAU,EAAVA,IAC3BjC,EAASiC,MAoED,kBAAC,cAAD,CAAaD,MAAM,OAAOjC,MAAOA,EAAO+B,SAAUrB,QAAQC,OAS5D,yBAAKc,UAAU,QACb,2BACEA,UAAU,6CACVE,QAAQ,SAFV,SAMA,2BACEF,UAAU,kIACVG,GAAG,QACHC,KAAK,SACLC,MAAO5B,EACPiC,IAAK,EACLC,IAAK,EACLL,SAAU,gBAAaD,EAAb,EAAGE,OAAUF,MAAb,OAA2B3B,EAAS2B,OAGlD,yBAAKL,UAAU,qBACb,4BACEA,UAAU,oHACVI,KAAK,SACLQ,QAASrB,GAHX,kBAULpB,EAAS0C,KAtGQ,SAACxC,EAASyC,GAAV,OACpB,yBACEC,IAAKD,EACLd,UAAU,gEAEV,yBACEA,UAAU,iDACVgB,MAAO,CAAEC,gBAAgB,IAAD,OAAM5C,EAAQE,MAAMY,SAAS,OAEpD2B,EAAQ,GAEX,yBAAKd,UAAU,wBAAwB3B,EAAQmB,MAC/C,4BACEQ,UAAU,2IACVI,KAAK,SACLQ,QAAS,kBAAMhB,EAAcvB,EAAQmB,QAHvC,WCjEN0B,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.911093a8.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport default axios.create({\r\n  baseURL: \"https://api.jsonbin.io/b/5ef17e1f97cb753b4d160c53\",\r\n  headers: {\r\n    \"secret-key\":\r\n      \"$2b$10$AOXx.uD.2vMLIWBhNRyF6.qDasREvbbmaKmPVNtaPgkT/0pF7S52q\",\r\n    \"Content-Type\": \"application/json\",\r\n    versioning: false,\r\n  },\r\n});\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { HuePicker, AlphaPicker } from \"react-color\";\r\nimport API from \"../api/API\";\r\n\r\nconst App = () => {\r\n  const [messages, setMessages] = useState([]);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [color, setColor] = useState(\"#F56565\");\r\n  const [speed, setSpeed] = useState(2);\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n\r\n    const load = async () => {\r\n      const { data } = await API.get(\"/latest\");\r\n      console.log(data);\r\n      console.log(data.messages[0].color.toString(16));\r\n      if (isMounted) setMessages(data.messages);\r\n    };\r\n\r\n    load();\r\n\r\n    return () => (isMounted = false);\r\n  }, []);\r\n\r\n  const doSubmit = async (messages = {}) => {\r\n    const { data } = await API.put(\"/\", messages);\r\n    console.log(data);\r\n    setMessages(data.data.messages);\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      await doSubmit({\r\n        messages: [\r\n          ...messages,\r\n          { text: message, color: parseInt(color.substring(1), 16), speed },\r\n        ],\r\n      });\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  const handleDismiss = async (message) => {\r\n    const remaining = messages.filter((it) => it.text !== message);\r\n    try {\r\n      await doSubmit({ messages: remaining });\r\n      setMessages(remaining);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  const handleColorChange = ({ hex }) => {\r\n    setColor(hex);\r\n  };\r\n\r\n  const renderMessage = (message, index) => (\r\n    <div\r\n      key={index}\r\n      className=\"max-w-lg mx-auto flex p-2 bg-white rounded-lg shadow-xl mb-4\"\r\n    >\r\n      <div\r\n        className=\"inline-block rounded text-center px-4 py-2 m-2\"\r\n        style={{ backgroundColor: `#${message.color.toString(16)}` }}\r\n      >\r\n        {index + 1}\r\n      </div>\r\n      <div className=\"flex-1 px-4 py-2 m-2\">{message.text}</div>\r\n      <button\r\n        className=\"inline-block rounded text-center px-4 py-2 m-2 bg-gray-500 hover:bg-red-700 text-white font-bold focus:outline-none focus:shadow-outline\"\r\n        type=\"button\"\r\n        onClick={() => handleDismiss(message.text)}\r\n      >\r\n        x\r\n      </button>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"min-h-screen min-w-screen p-8 md:p-24 bg-red-500\">\r\n      <div className=\"max-w-lg mx-auto px-4 pb-8\">\r\n        <img alt=\"Marquise logo\" />\r\n        {/* <p className=\"font-mono text-4xl text-purple-200\">amplifii.us</p> */}\r\n        <p className=\"text-sm text-justify\">\r\n          Marquise is a handy little LED sign you can command from your browser\r\n          :)\r\n        </p>\r\n      </div>\r\n      <div className=\"max-w-lg mx-auto flex p-6 bg-white rounded-lg shadow-xl mb-4\">\r\n        <form className=\"bg-white w-full\">\r\n          <div className=\"mb-4\">\r\n            <label\r\n              className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n              htmlFor=\"message\"\r\n            >\r\n              Message\r\n            </label>\r\n            <textarea\r\n              className={`shadow appearance-none border ${\r\n                false ? \"border-red-600\" : \"\"\r\n              } rounded resize-y h-16 w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline`}\r\n              id=\"message\"\r\n              type=\"text\"\r\n              value={message}\r\n              onChange={({ target: { value } }) => setMessage(value)}\r\n            />\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <label\r\n              className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n              htmlFor=\"color\"\r\n            >\r\n              Color\r\n            </label>\r\n            <HuePicker\r\n              id=\"color\"\r\n              className=\"mb-4\"\r\n              width=\"100%\"\r\n              color={color}\r\n              onChange={handleColorChange}\r\n            />\r\n            <AlphaPicker width=\"100%\" color={color} onChange={console.log} />\r\n            {/* <input\r\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\"\r\n              id=\"color\"\r\n              type=\"number\"\r\n              value={color}\r\n              onChange={({ target: { value } }) => setColor(value)}\r\n            /> */}\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <label\r\n              className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n              htmlFor=\"speed\"\r\n            >\r\n              Speed\r\n            </label>\r\n            <input\r\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\"\r\n              id=\"speed\"\r\n              type=\"number\"\r\n              value={speed}\r\n              min={1}\r\n              max={5}\r\n              onChange={({ target: { value } }) => setSpeed(value)}\r\n            />\r\n          </div>\r\n          <div className=\"flex items-center\">\r\n            <button\r\n              className=\"w-full bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\r\n              type=\"button\"\r\n              onClick={handleSubmit}\r\n            >\r\n              Beam it up!\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      {messages.map(renderMessage)}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./assets/main.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA"],"sourceRoot":""}